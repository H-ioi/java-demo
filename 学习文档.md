# ğŸš€ Java Spring Boot é¡¹ç›®å­¦ä¹ æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®ç»“æ„æ¦‚è§ˆ

```text
demo-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/example/demo/
â”‚   â”‚   â”‚   â”œâ”€â”€ DemoAppApplication.java    # ä¸»å¯åŠ¨ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ config/                    # é…ç½®ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ controller/               # æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ entity/                    # å®ä½“ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/               # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ service/                  # ä¸šåŠ¡å±‚
â”‚   â”‚   â”‚   â””â”€â”€ dto/                      # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ application.yml           # é…ç½®æ–‡ä»¶
â”‚   â”‚       â””â”€â”€ db/
â”‚   â”‚           â””â”€â”€ migration/           # æ•°æ®åº“è¿ç§»è„šæœ¬
â”‚   â””â”€â”€ test/                             # æµ‹è¯•ä»£ç 
â”œâ”€â”€ docker-compose.yml                    # Dockerç¼–æ’
â”œâ”€â”€ Dockerfile                           # Dockeré…ç½®
â””â”€â”€ pom.xml                              # Mavenä¾èµ–
```

## ğŸ”§ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- JDK 21+
- Maven 3.6+
- PostgreSQL 12+

### ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰
```bash
# æœ‰è°ƒæ•´ é‡è´­
mvn clean compile

# æ–¹å¼1ï¼šMavenç›´æ¥è¿è¡Œ
mvn spring-boot:run

# æ–¹å¼2ï¼šæ‰“åŒ…åè¿è¡Œ
mvn clean package -DskipTests
java -jar target/demo-0.0.1-SNAPSHOT.jar

# æ–¹å¼3ï¼šä½¿ç”¨è„šæœ¬ï¼ˆWindowsï¼‰
pack-local.bat
```

### è®¿é—®åœ°å€
- **APIæ¥å£**: http://localhost:9000/api
- **å¥åº·æ£€æŸ¥**: http://localhost:9000/api/actuator/health
- **Swaggeræ–‡æ¡£**: http://localhost:9000/api/swagger-ui.html

## ğŸ“¦ ç¯å¢ƒé…ç½®è¯´æ˜

### é…ç½®æ–‡ä»¶ç»“æ„
- `application.yml` - å¼€å‘ç¯å¢ƒé…ç½®ï¼ˆé»˜è®¤ï¼‰
- `application-local.yml` - æœ¬åœ°æ‰“åŒ…é…ç½®ï¼ˆ9000ç«¯å£ï¼‰
- `application-docker.yml` - Dockerç¯å¢ƒé…ç½®

### æ•°æ®åº“é…ç½®
```yaml
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/javaDemo
    username: root
    password: 123456
    driver-class-name: org.postgresql.Driver
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ–°å»ºæ•°æ®è¡¨åŠæ¥å£å®Œæ•´æµç¨‹

#### 1. åˆ›å»ºå®ä½“ç±» (Entity)
```java
@Entity
@Table(name = "products")
@Data
public class Product {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(nullable = false)
    private String name;
    
    // å…¶ä»–å­—æ®µ...
}
```

#### 2. åˆ›å»ºRepositoryæ¥å£
```java
@Repository
public interface ProductRepository extends JpaRepository<Product, Long> {
    Product findByName(String name);
    boolean existsByName(String name);
}
```

#### 3. åˆ›å»ºServiceç±»
```java
@Service
@RequiredArgsConstructor
public class ProductService {
    private final ProductRepository productRepository;
    
    public ProductDTO createProduct(ProductDTO productDTO) {
        // ä¸šåŠ¡é€»è¾‘...
    }
}
```

#### 4. åˆ›å»ºControllerç±»
```java
@RestController
@RequestMapping("/products")
@Tag(name = "äº§å“ç®¡ç†")
public class ProductController {
    private final ProductService productService;
    
    @PostMapping
    public ResponseEntity<ApiResponse<ProductDTO>> createProduct(@Valid @RequestBody ProductDTO productDTO) {
        // æ§åˆ¶å™¨é€»è¾‘...
    }
}
```

#### 5. æ•°æ®åº“è¿ç§»è„šæœ¬
åœ¨ `src/main/resources/db/migration/` åˆ›å»ºSQLæ–‡ä»¶ï¼š
```sql
CREATE TABLE products (
    id BIGSERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    description TEXT NOT NULL,
    price DECIMAL(10,2) NOT NULL,
    stock INTEGER NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### æœ¬åœ°éƒ¨ç½²
```bash
# æ‰“åŒ…
mvn clean package -DskipTests

# è¿è¡Œ
java -jar target/demo-0.0.1-SNAPSHOT.jar --spring.profiles.active=local
```

### Dockeréƒ¨ç½²
```bash
# æ„å»ºé•œåƒ
docker build -t demo-app .

# è¿è¡Œå®¹å™¨
docker run -p 9000:9000 --network="host" demo-app

# æˆ–ä½¿ç”¨Docker Compose
docker-compose up -d
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
# æ‰“åŒ…
mvn clean package -DskipTests

# ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp target/demo-0.0.1-SNAPSHOT.jar user@server:/opt/app/

# å¯åŠ¨åº”ç”¨
java -jar demo-0.0.1-SNAPSHOT.jar --spring.profiles.active=prod
```

## ğŸ” APIæµ‹è¯•

### å¥åº·æ£€æŸ¥
```bash
curl http://localhost:9000/api/actuator/health
```

### äº§å“APIæµ‹è¯•
```bash
# åˆ›å»ºäº§å“
curl -X POST http://localhost:9000/api/products \
  -H "Content-Type: application/json" \
  -d '{
    "name": "iPhone 15",
    "description": "æœ€æ–°æ¬¾è‹¹æœæ‰‹æœº",
    "price": 5999.99,
    "stock": 100
  }'

# è·å–æ‰€æœ‰äº§å“
curl http://localhost:9000/api/products

# åˆ†é¡µæŸ¥è¯¢
curl "http://localhost:9000/api/products/page?page=0&size=10"
```

## âš ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£å†²çª**
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr :9000
# ç»ˆæ­¢å ç”¨è¿›ç¨‹
taskkill /PID <è¿›ç¨‹ID> /F
```

2. **æ•°æ®åº“è¿æ¥å¤±è´¥**
- æ£€æŸ¥PostgreSQLæœåŠ¡æ˜¯å¦å¯åŠ¨
- éªŒè¯æ•°æ®åº“è¿æ¥å‚æ•°
- ç¡®è®¤é˜²ç«å¢™è®¾ç½®

3. **åº”ç”¨å¯åŠ¨å¤±è´¥**
- æ£€æŸ¥Javaç‰ˆæœ¬ï¼ˆè¦æ±‚JDK 21ï¼‰
- æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯æ—¥å¿—
- æ£€æŸ¥ä¾èµ–å†²çª

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
tail -f logs/application.log

# Dockerå®¹å™¨æ—¥å¿—
docker logs -f demo-app
```

## ğŸ“ å¿«é€Ÿå‚è€ƒ

| ç¯å¢ƒ | å¯åŠ¨å‘½ä»¤ | åœæ­¢å‘½ä»¤ | è®¿é—®åœ°å€ |
|------|----------|----------|----------|
| æœ¬åœ°å¼€å‘ | `mvn spring-boot:run` | `Ctrl+C` | http://localhost:9000 |
| æœ¬åœ°æ‰“åŒ… | `java -jar target/demo-*.jar` | `stop-local.bat` | http://localhost:9000 |
| Docker | `docker-compose up -d` | `docker-compose down` | http://localhost:9000 |

---

**æ³¨æ„**ï¼šæ‰€æœ‰ç¯å¢ƒéƒ½ä½¿ç”¨æœ¬åœ°PostgreSQLæ•°æ®åº“ï¼ˆlocalhost:5432ï¼‰